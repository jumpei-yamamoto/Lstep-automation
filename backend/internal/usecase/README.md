# internal/usecase

ユースケース層 - アプリケーションサービス

## 責務

- **ユースケースオーケストレーション**: ビジネスプロセスの手順を定義
- **トランザクション境界の管理**: データの整合性を保証する範囲を決定
- **ドメインオブジェクトの協調**: エンティティやドメインサービスを組み合わせて処理を実現
- **外部システムとの協調**: リポジトリインターフェースを通じたデータアクセス

## 重要な原則

### ドメイン中心の実装
- ビジネスロジックはドメイン層に委譲
- ユースケース層は処理の流れ（オーケストレーション）に集中
- ドメインエラーは適切にハンドリングして上位層に伝播

### インターフェースによる分離
- 外部I/Oは必ずインターフェース（ポート）経由で実行
- データベース、外部API等への直接依存を避ける
- テスト時にはモック・スタブに置き換え可能な設計

### 単一責任の原則
- 1つのユースケースクラスは1つのビジネスプロセスのみを担当
- 複数の関心事を混在させない

## ファイル構成例

```
usecase/
├── register_user.go     # ユーザー登録ユースケース
├── authenticate_user.go # ユーザー認証ユースケース
├── update_user.go       # ユーザー更新ユースケース
└── delete_user.go       # ユーザー削除ユースケース
```

## 依存関係

- **依存する**: Domain層のインターフェース
- **依存される**: Interface層（HTTP ハンドラー等）